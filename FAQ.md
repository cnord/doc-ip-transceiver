#Коротко о главном
Чек-листы для подключения и настройки IP Трансивера содержат краткое перечисление действий или условий, выполнение которых обеспечивает корректную работу устройства. В некоторой степени это краткие пошаговые инструкции, позволяющие инженеру быстро восстановить в памяти совокупность нужных операций, а также проверить выполнение каждой из них.

Следует отметить, что после подключения и настройки IP Трансивер не требует дополнительного обслуживания.

##Требования к серверу для установки IP Трансивера.
Для установки IP Трансивера требуется сервер со следующими характеристиками:

* **2 ядра, 1мб ОЗУ и т.п. (системные характеристики не определены!)**
* 64-битная операционная система Ubuntu GNU/Linux Server 12.04 LTS. Дистрибутив можно скачать по ссылке [http://www.ubuntu.com/start-download?distro=server&bits=64&release=lts](http://www.ubuntu.com/start-download?distro=server&bits=64&release=lts)
* Наличие на сервере стандартного набора пакетов для Ubuntu Server (без оконного менеджера и иных пакетов).
* В системе должен быть заведён пользователь **ubuntu** с административными правами (ВНИМАНИЕ! для установки IP Трансивера нужно знать пароль данного пользователя).

##Требования к сети для работы IP Трансивера

* IP Трансивер должен быть обеспечен стабильным интернетом не через proxy-сервер для бесперебойного приёма сообщений от устройств.
* На сервер IP Трансивера должен быть проброшен порт из интернета. Комбинация адрес:порт должна быть неизменной, т.к. эти настройки задаются как в файле конфигурации, так и на охранном оборудовании.
* Сервер IP Трансивера должен иметь стабильный канал связи с программным обеспечением станции мониторинга для бесперебойной работы функции ретрансляции сообщений.
* Для сервера IP Трансивера должен быть назначен внешний фиксированный IP-адрес, либо должен быть проброшен порт из интернета.
* Для доступа к веб-интерфейсам программирования контрольных панелей и просмотра принятых событий  требуется доступность портов, указанных в файле конфигурации.

##Как установить IP Трансивер
* Войти в систему под пользователем **ubuntu**
* Перейти в домашнюю директорию, выполнив команду **cd**
* Выполнить команду **sudo sh -c 'wget http://install.cnord.ru/install.sh && sh install.sh 2>&1 | tee install.log'**
* При запросе - ввести пароль пользователя **ubuntu**
* При успешном окончании установки на экране появляется строка **Установка завершена!** и пользователю выводится запрос на редактирование файла пользовательской конфигурации.
* При необходимости редактирования конфигурации, следует ответить **Y** и нажать Enter. В редакторе откроется файл.
* После корректировки настроек следует сохранить их.
* Компоненты системы автоматически перезапустятся с новыми параметрами.
* IP Трансивер готов к работе.

##Требования к оборудованию, работающему на IP Трансивер

Главным требованием к оборудованию, работающему на IP Трансивер, является возможность отправки сообщений на последний в протоколе CML. IP Трансивер принимает сообщения от таких устройств как передатчик «ТР-100 GSM III» и коммуникатор «Союз GSM». Указанные устройства должны иметь стабильный интернет-канал до IP Трансивера.

##Как настроить программное обеспечение станции мониторинга на приём сообщений от IP Трансивера?

* На стороне программного обеспечения станции мониторинга обеспечить выполнение требований по сетевым настройкам (выделенный IP-адрес, открытый порт, бесперебойное сетевое соединение с IP Трансивером).
* В программном обеспечении станции мониторинга указать формат Surgard ContactID на приём.

#Вопросы и ответы
Раздел содержит ответы на вопросы, которые могут возникать при установке, настройке и эксплуатации IP Трансивера.

##Как проверить, что IP Трансивер установлен правильно

* Открыть "Монитор".
* Запустить программное обеспечение станции мониторинга.
* Сгенерировать по настроенному на вход IP Трансивера объекту любое событие.
* Событие должно отобразиться и в "Мониторе", и в программном обеспечении станции мониторинга.

##Как проверить, что передатчик настроен правильно?

* Открыть “Монитор”.
* Сгенерировать тревогу на устройстве.
* В списке событий “Монитора” должно отобразиться событие с устройства.

##Как изменить настройки IP Трансивера?

Доступные для конфигурирования пользователем настройки находятся в файле /home/ubuntu/user.yaml. Для того, чтобы изменить какой-либо из параметров IP Трансивера, следует отредактировать этот файл каким-нибудь текстовым редактором. Это можно сделать, например, выполнив в командной строке сервера IP Трансивера команду **/etc/alternatives/editor/home/ubuntu/user.yaml**

Для применения вновь назначенных настроек следует выполнить команду **sudo supervisorctl restart all**.

##Как изменить порты, используемые “Клавишником” и “Монитором”?

Порты "Клавишника" и "Монитора" можно изменить в конфигурационном файле IP Трансивера.

##Как проверить, что связь с программного обеспечения станции мониторинга есть?

* Открыть “Монитор”.
* Если связь есть, в верхней части экрана написано “Соединение с пультовым ПО по адресу *<адрес:порт>* установлено”. В случае отсутствия связи – “Соединение с пультовым ПО по адресу *<адрес:порт>* отсутствует”.

Если связи с программным обеспечением станции мониторинга нет, нужно проверить, что:

1. Программное обеспечение станции мониторинга настроено на приём событий в формате Surgard ContactID.
2. Убедиться, что *<адрес:порт>* соответствуют настройкам программного обеспечения станции мониторинга.

##Зачем нужен “Клавишник” и что он умеет?

“Клавишник” – виртуальная копия реальной клавиатуры. Позволяет просматривать и менять настройки оборудования без необходимости выезда инженера на объект. Функции "Клавишника" недоступны при нахождении объекта под охраной.

##Как узнать, что “Клавишник” работает?

- Открыть “Клавишник” в веб-обозревателе. По умолчанию, строка подключения к "Монитору" - http://*<ip-transceiver>*:8000, где *<ip-transceiver>* - IP-адрес или домен IP Трансивера, 8000 - порт по умолчанию.
- Авторизоваться. Логин и пароль должны соответствовать указанным в настройках IP Трансивера. По умолчанию логин - admin, пароль - admin. 
- Указать номер объекта и подключиться к нему.
- В случае корректной работы, на экране отобразится виртуальная клавиатура.

Если "Клавишник" не открылся, нужно проверить, что:

1. Введён правильный адрес <ip-transceiver>.
2. Введён номер порта, соответствующий указанному в настройках IP Трансивера.

Если не отобразилась клавиатура, нужно проверить, что:

1. На sim-карте передатчика положительный баланс и включена услуга передачи данных по GPRS
2. Порты открыты
3. Есть связь с программным обеспечением станции мониторинга
4. Параметры передатчика установлены правильно (передатчик настроен на порт сервера IP Трансивера)
5. Используемое оборудование снято с охраны.

##Какие логин и пароль использовать для входа в “Клавишник?

Для входа в “Клавишник” следует использовать логин и пароль, установленные при развёртывании IP Трансивера. По умолчанию логин – *admin*, пароль – *admin*.

##Как узнать, что “Монитор” работает?

- Открыть “Монитор” в веб-обозревателе. По умолчанию, строка подключения к "Монитору" - http://*<ip-transceiver>*:9000, где *<ip-transceiver>* - IP-адрес или домен IP Трансивера, 9000 - порт по умолчанию.
- Сгенерировать тревогу на устройстве.
- В списке событий “Монитора” должно отобразиться событие с устройства.

Если "Монитор" не открылся, нужно проверить, что:

1. Введён правильный адрес <ip-transceiver>.
2. Введён номер порта, соответствующий указанному в настройках IP Трансивера.

Если событие не отобразилось, нужно проверить, что:

1. На sim-карте передатчика положительный баланс и включена услуга передачи данных по GPRS
2. Порты открыты
3. Есть связь с программным обеспечением станции мониторинга
4. Параметры передатчика установлены правильно (передатчик настроен на порт сервера IP Трансивера)

##Как проверить, что порты открыты

Для того, чтобы узнать, открыты ли требуемые порты, а также настроен ли выделенный внешний IP адрес для подключения устройств, следует обратиться к администратору сети.

##Можно ли в качестве программного обеспечения станции мониторинга использовать “Центр охраны”?

В качестве программного обеспечения станции мониторинга можно использовать любое программное обеспечение, умеющее принимать и распознавать сообщения в формате Surgard ContactID.